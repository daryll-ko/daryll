# BRUH 2024 retrospective

The department had its Computer Science Week (CS Week) last May 2024, and one of the events was a [competitive programming](https://en.wikipedia.org/wiki/Competitive_programming) competition named _BRUH_, short for _**B**attle **R**oyale for **U**P **H**ackers_. The name is probably my favorite aspect of the event (it reminds me of [ELMO](https://web.evanchen.cc/elmo/index.html)), and I hope it lives on.

I'll go over the course of events during the final round, including some events before and after the competition. I'll skip the elimination round as it's relatively uneventful, but I'll leave the problems here for documentation.

**Disclaimer:** The problems and their constraints may not be accurate verbatim, and the sequence of events may be slightly off. I'm using a photo of the scoreboard _just_ before it went private (more on this point in a bit), so hopefully I'm not overly hallucinating the sequence.

## Mechanics

I'll skip the standard competitive programming rules and just go over mechanics particular to BRUH.

The competition is done in teams of 1 to 3 members.

Both eliminations and finals have a set of problems.

Each problem is worth at least $10$ points, for a subtask that permits brute force solutions. Subsequent subtasks are worth $3$ points each. As such, a problem with $n$ subtasks has $10 + 3(n-1)$ points up for grabs.

Eliminations were held online over the course of a weekend and consisted of 6 problems released intermittently.

Finals were held onsite at our department and lasted 5 hours. It consisted of 9 problems.

Teams are ranked by score. Ties are broken by the timestamp of the latest score-changing submission.

Both the eliminations and finals were hosted on a spin-off of [DMOJ](https://dmoj.ca/). The scoreboard for the finals became private 3.5 hours into the contest.

## Problems

All inputs are integers, unless otherwise stated.

### Eliminations

**A.** You're given the positions of $A$, $B$, and $C$ on the number line. If $A$ and $B$ walk at a constant rate towards $C$, who will arrive there first?

$(|A|, |B|, |C| \le 10^{15})$

**B.** For a string $s$, define $f(s)$ as $s$ but with vowels removed. You're given a list of strings $s_1, s_2, \dots, s_n$. There are several queries: for the $j$th query you're given a string $t_j$; count the number of indices $i$ such that $f(s_i) = t_j$.

$(|s_i|, \sum|t_j| \le 10^5)$

**C.** Given an array $[a_1, a_2, \dots, a_n]$, compute

$$
\sum_{i=1}^{n-2}\sum_{j=i+2}^{n}a_{i} + a_{j} + \max\{a_{i+1},a_{i+2},\dots,a_{j-1}\}.
$$

$(n \le 10^5, |a_i| \le 10^9)$

**D.** Given $n$, $m$, and arrays $[r_1, r_2, \dots, r_n]$ and $[c_1, c_2, \dots, c_m]$, compute the number of ways (mod $10^9+7$) to fill a grid $G$ such that:

- Each cell has a value between $0$ and $999$ (inclusive)
- $\sum_{j=1}^{m}G_{i,j} \equiv r_{i}\pmod{10}$ for $1 \le i \le n$
- $\sum_{i=1}^{n}G_{i,j} \equiv c_{j}\pmod{10}$ for $1 \le j \le m$

$(n, m \le 10^{5})$

**E.** Mika, Nagisa, and Seia are on tile $0$ of a path $0, 1, \dots, n$. They have health $M$, $N$, and $S$, respectively. Each tile has an associated damage value $d_i$; you take $d_i$ damage if you land on tile $i$ (here $d_0 = d_n = 0$). They take turns rolling a pair of dice; if a player is on tile $i$ and the sum of the dots on the two dice is $s$, they jump to tile $\min(i+s, n)$. Mika goes first, then Nagisa, then Seia, then back to Mika, etc.

Find the probability (with error $< 10^{-6}$) that all three of them make it to tile $n$ alive (that is, with positive health).

$(n \le 10^6, M, N, S \le 2024, d_i \ge 1)$

**F.** Given a lattice point $(h, k)$ and a rectangle with corners $(x_l, y_l)$ and $(x_r, y_r)$, find the number of lattice points (mod $10^9+7$) on or inside the rectangle other than $(h, k)$ such that there are no lattice points (other than the endpoints) on the segment formed by that point and $(h, k)$.

$(-10^{10} \le x_l \le h \le x_r \le 10^{10}, -10^{10} \le y_l \le k \le y_r \le 10^{10})$
